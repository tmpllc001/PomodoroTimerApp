# ポモドーロ集中支援アプリ 技術仕様まとめ

## 🎯 目的

作業中に透明タイマーを表示し、休憩時間に全画面で休憩行動を促す。設定変更やBGM制御などにも対応。

---

## 🔧 機能別 技術的実現方法

### 1. 設定画面（タイマー・音・時計表示）

* **保存方法**：JSONファイル / QSettings（PyQt） / localStorage（Electron）
* **設定項目**：

  * 作業時間（例：25分）
  * 休憩時間（例：5分）
  * 長休憩周期
  * 音楽の種類・音量
  * 時計表示ON/OFF
  * 休憩中に表示するアクション候補

---

### 2. 音楽・映像プリセット

* **実装方法**：

  * ローカルのMP3/MP4読み込み（pygame, VLC）
  * 選択肢：カフェ音、雨音、無音、YouTubeリンクなど
* **音楽再生制御**：

  * 再生／一時停止／停止／ループ
  * 再生中ファイルの表示

---

### 3. 作業中：透明ウィンドウ（最小表示）

* **UI内容**：

  * 現在時刻（任意）
  * カウントダウンタイマー（任意）
  * 音楽操作パネル（再生・停止）
* **実装方法**：

  * PyQt：`setWindowOpacity`, `framelessWindowHint`, `setAttribute(Qt.WA_TranslucentBackground)`
  * Electron：`transparent: true` + CSSでスタイル

---

### 4. 休憩直前：タイマー点滅 → 全画面遷移

* **処理の流れ**：

  * 残り5秒でタイマーが点滅
  * カウント後、設定に基づくサイズで画面を拡張（全画面）
* **実装方法**：

  * PyQt：`showFullScreen()`または手動でサイズ指定
  * Electron：`win.setFullScreen(true)` or `win.setBounds()`

---

### 5. 休憩中画面（最前面）

* **UI内容**：

  * アクション提案（例：ストレッチ、コーヒーなど）
  * 休憩カウントダウン
* **動作制御**：

  * Alt+Tab や Win+D で他画面に戻れる（最前面維持のみ）
  * ESCキーなどでの解除はなし

---

### 6. 休憩終了：30秒前告知＋5秒カウント

* **動作制御**：

  * 残り30秒で視覚的・音での告知
  * 残り5秒でカウント表示（数字が減っていく）
  * 自動的に画面を閉じ、作業モード復帰

---

### 7. タイマーの一時停止／再開

* **UI**：透明ウィンドウ上の一時停止ボタン or キーボードショートカット
* **制御**：状態保持し、作業・休憩どちらでも動作可能に

---

## 📁 想定ディレクトリ構成（例：Python版）

```
pomodoro_app/
├── main.py                  # 起動エントリ
├── settings.py              # 設定読み書き
├── ui/
│   ├── timer_overlay.py     # 透明タイマー表示
│   ├── fullscreen_rest.py   # 全画面休憩画面
│   └── settings_ui.py       # 設定ウィンドウ
├── media/
│   ├── bgm1.mp3
│   └── bgm2.mp3
├── assets/
│   └── icon.png
└── utils/
    └── timer_controller.py  # タイマー制御ロジック
```

---

## 🔄 今後追加を検討できる機能

| 機能         | 概要                      |
| ---------- | ----------------------- |
| ログ記録       | 作業時間や休憩回数を記録してCSVやグラフ出力 |
| テーマ切り替え    | 暗色／明色・透明度などの外観変更        |
| ストレッチGIF再生 | 提案運動に合わせたアニメーション表示      |
| 集中スコア      | 休まず継続するとスコア加算、サボると減少など  |

※pythonである必要はありません。
ディレクトリ構成も自由にしてください。
このファイルはあくまで初期設定です。
最も効率の良い技術スタックに切り替えて制作してください